import{a0 as W,a1 as ce,a2 as pe,a3 as de,S as oe,i as le,s as ne,e as X,b as S,v as L,d as w,f as M,g as m,h as g,a4 as me,D as ae,k,l as v,m as A,n as b,p as Y,E as _,C as Z,K as _e,L as ge,M as $e,N as he,q as N,a as U,r as O,c as j,H as x,O as be,J as we,y as q,z,A as F,B as H,u as ye}from"../chunks/index.9c08ea04.js";import{b as Ee,g as ke}from"../chunks/navigation.22547486.js";import{A as ie}from"../chunks/Alert.8cf1f4ee.js";import{B as ve}from"../chunks/Button.34aac2ff.js";import{w as fe}from"../chunks/index.80453e5b.js";import{a as Ae,g as De}from"../chunks/axios.12eefad9.js";const Pe={data:[],error:"",uploadProgress:0},ue=fe(Pe),R=o=>{ue.update(e=>({...e,...o}))},Ie=o=>{const e=Math.round(o.loaded/o.total*100);R({uploadProgress:e})},Ce=async o=>{R({error:""});try{const e=new FormData;e.append("file",o),await Ae.post("/pdfs",e,{onUploadProgress:Ie})}catch(e){return R({error:De(e)})}},Se=()=>{R({error:"",uploadProgress:0})};function ee(o){return Object.prototype.toString.call(o)==="[object Date]"}function J(o,e){if(o===e||o!==o)return()=>o;const r=typeof o;if(r!==typeof e||Array.isArray(o)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(o)){const t=e.map((s,l)=>J(o[l],s));return s=>t.map(l=>l(s))}if(r==="object"){if(!o||!e)throw new Error("Object cannot be null");if(ee(o)&&ee(e)){o=o.getTime(),e=e.getTime();const l=e-o;return n=>new Date(o+n*l)}const t=Object.keys(e),s={};return t.forEach(l=>{s[l]=J(o[l],e[l])}),l=>{const n={};return t.forEach(i=>{n[i]=s[i](l)}),n}}if(r==="number"){const t=e-o;return s=>o+s*t}throw new Error(`Cannot interpolate ${r} values`)}function Te(o,e={}){const r=fe(o);let t,s=o;function l(n,i){if(o==null)return r.set(o=n),Promise.resolve();s=n;let a=t,f=!1,{delay:$=0,duration:y=400,easing:D=de,interpolate:V=J}=W(W({},e),i);if(y===0)return a&&(a.abort(),a=null),r.set(o=s),Promise.resolve();const P=ce()+$;let I;return t=pe(C=>{if(C<P)return!0;f||(I=V(o,n),typeof y=="function"&&(y=y(o,n)),f=!0),a&&(a.abort(),a=null);const T=C-P;return T>y?(r.set(o=n),!1):(r.set(o=I(D(T/y))),!0)}),t.promise}return{set:l,update:(n,i)=>l(n(s,o),i),subscribe:r.subscribe}}function Ue(o){let e,r;return{c(){e=k("div"),r=k("div"),this.h()},l(t){e=v(t,"DIV",{class:!0});var s=A(e);r=v(s,"DIV",{class:!0,role:!0,style:!0}),A(r).forEach(g),s.forEach(g),this.h()},h(){b(r,"class","flex flex-col justify-center overflow-hidden bg-blue-800"),b(r,"role","progressbar"),Y(r,"width",o[0]+"%"),b(e,"class","flex my-3 w-full h-1.5 bg-gray-200 rounded-full overflow-hidden")},m(t,s){S(t,e,s),_(e,r)},p(t,s){s&1&&Y(r,"width",t[0]+"%")},i:Z,o:Z,d(t){t&&g(e)}}}function je(o){let e;const r=o[5].default,t=_e(r,o,o[4],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,l){t&&t.m(s,l),e=!0},p(s,l){t&&t.p&&(!e||l&16)&&ge(t,r,s,s[4],e?he(r,s[4],l,null):$e(s[4]),null)},i(s){e||(m(t,s),e=!0)},o(s){w(t,s),e=!1},d(s){t&&t.d(s)}}}function Ne(o){let e,r,t,s;const l=[je,Ue],n=[];function i(a,f){return a[2].default&&a[0]===100?0:1}return e=i(o),r=n[e]=l[e](o),{c(){r.c(),t=X()},l(a){r.l(a),t=X()},m(a,f){n[e].m(a,f),S(a,t,f),s=!0},p(a,[f]){let $=e;e=i(a),e===$?n[e].p(a,f):(L(),w(n[$],1,1,()=>{n[$]=null}),M(),r=n[e],r?r.p(a,f):(r=n[e]=l[e](a),r.c()),m(r,1),r.m(t.parentNode,t))},i(a){s||(m(r),s=!0)},o(a){w(r),s=!1},d(a){n[e].d(a),a&&g(t)}}}function Oe(o,e,r){let t,{$$slots:s={},$$scope:l}=e;const n=me(s);let{progress:i=0}=e;const a=Te(1,{duration:1e3});return ae(o,a,f=>r(0,t=f)),o.$$set=f=>{"progress"in f&&r(3,i=f.progress),"$$scope"in f&&r(4,l=f.$$scope)},o.$$.update=()=>{o.$$.dirty&8&&a.set(i)},[t,a,n,i,l,s]}class Ve extends oe{constructor(e){super(),le(this,e,Oe,Ne,ne,{progress:3})}}function te(o){let e,r;return e=new Ve({props:{progress:o[2].uploadProgress,$$slots:{default:[Le]},$$scope:{ctx:o}}}),{c(){q(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,s){F(e,t,s),r=!0},p(t,s){const l={};s&4&&(l.progress=t[2].uploadProgress),s&64&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){H(e,t)}}}function Be(o){let e;return{c(){e=N("Upload Complete! Returning to list...")},l(r){e=O(r,"Upload Complete! Returning to list...")},m(r,t){S(r,e,t)},d(r){r&&g(e)}}}function Le(o){let e,r;return e=new ie({props:{type:"success",$$slots:{default:[Be]},$$scope:{ctx:o}}}),{c(){q(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,s){F(e,t,s),r=!0},p(t,s){const l={};s&64&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){H(e,t)}}}function re(o){let e,r;return e=new ie({props:{$$slots:{default:[Me]},$$scope:{ctx:o}}}),{c(){q(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,s){F(e,t,s),r=!0},p(t,s){const l={};s&68&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){H(e,t)}}}function Me(o){let e,r=o[2].error+"",t;return{c(){e=N("Error: "),t=N(r)},l(s){e=O(s,"Error: "),t=O(s,r)},m(s,l){S(s,e,l),S(s,t,l)},p(s,l){l&4&&r!==(r=s[2].error+"")&&ye(t,r)},d(s){s&&g(e),s&&g(t)}}}function se(o){let e,r;return e=new ve({props:{className:"w-full my-3",disabled:o[1],$$slots:{default:[Re]},$$scope:{ctx:o}}}),{c(){q(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,s){F(e,t,s),r=!0},p(t,s){const l={};s&2&&(l.disabled=t[1]),s&64&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){w(e.$$.fragment,t),r=!1},d(t){H(e,t)}}}function Re(o){let e;return{c(){e=N("Submit")},l(r){e=O(r,"Submit")},m(r,t){S(r,e,t)},d(r){r&&g(e)}}}function qe(o){let e,r,t,s,l,n,i,a,f,$,y,D,V,P,I,C,T,K,u=o[1]&&!o[2].error&&te(o),c=o[2].error&&re(o),p=!o[1]&&se(o);return{c(){e=k("div"),r=k("h2"),t=N("Upload a Document"),s=U(),l=k("form"),n=k("div"),i=k("label"),a=N("Choose file"),f=U(),$=k("input"),y=U(),D=k("div"),V=U(),u&&u.c(),P=U(),c&&c.c(),I=U(),p&&p.c(),this.h()},l(d){e=v(d,"DIV",{class:!0});var h=A(e);r=v(h,"H2",{class:!0});var G=A(r);t=O(G,"Upload a Document"),G.forEach(g),s=j(h),l=v(h,"FORM",{});var E=A(l);n=v(E,"DIV",{class:!0});var B=A(n);i=v(B,"LABEL",{for:!0,class:!0});var Q=A(i);a=O(Q,"Choose file"),Q.forEach(g),f=j(B),$=v(B,"INPUT",{type:!0,name:!0,id:!0,class:!0}),B.forEach(g),y=j(E),D=v(E,"DIV",{class:!0}),A(D).forEach(g),V=j(E),u&&u.l(E),P=j(E),c&&c.l(E),I=j(E),p&&p.l(E),E.forEach(g),h.forEach(g),this.h()},h(){b(r,"class","text-3xl font-bold m-10"),b(i,"for","file-input"),b(i,"class","sr-only"),b($,"type","file"),b($,"name","file-input"),b($,"id","file-input"),b($,"class","block w-full border border-gray-200 shadow-sm rounded-md text-sm focus:z-10 focus:border-blue-500 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:m-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-violet-700 hover:file:bg-violet-100"),b(n,"class","w-42"),b(D,"class","my-4"),b(e,"class","w-full max-w-md mx-auto p-6")},m(d,h){S(d,e,h),_(e,r),_(r,t),_(e,s),_(e,l),_(l,n),_(n,i),_(i,a),_(n,f),_(n,$),_(l,y),_(l,D),_(l,V),u&&u.m(l,null),_(l,P),c&&c.m(l,null),_(l,I),p&&p.m(l,null),C=!0,T||(K=[x($,"change",o[4]),x(l,"submit",be(o[3]))],T=!0)},p(d,[h]){d[1]&&!d[2].error?u?(u.p(d,h),h&6&&m(u,1)):(u=te(d),u.c(),m(u,1),u.m(l,P)):u&&(L(),w(u,1,1,()=>{u=null}),M()),d[2].error?c?(c.p(d,h),h&4&&m(c,1)):(c=re(d),c.c(),m(c,1),c.m(l,I)):c&&(L(),w(c,1,1,()=>{c=null}),M()),d[1]?p&&(L(),w(p,1,1,()=>{p=null}),M()):p?(p.p(d,h),h&2&&m(p,1)):(p=se(d),p.c(),m(p,1),p.m(l,null))},i(d){C||(m(u),m(c),m(p),C=!0)},o(d){w(u),w(c),w(p),C=!1},d(d){d&&g(e),u&&u.d(),c&&c.d(),p&&p.d(),T=!1,we(K)}}}function ze(o,e,r){let t;ae(o,ue,a=>r(2,t=a));let s,l=!1;async function n(){r(1,l=!0),await Ce(s[0]),t.error?r(1,l=!1):setTimeout(()=>{ke("/documents"),r(1,l=!1)},2e3)}Ee(Se);function i(){s=this.files,r(0,s)}return[s,l,t,n,i]}class We extends oe{constructor(e){super(),le(this,e,ze,qe,ne,{})}}export{We as default};
